var P=Object.defineProperty;var I=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var l=(e,t,n)=>(I(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function a(e,t,n){const s=n.value;return{configurable:!0,get(){return s.bind(this)}}}function f(e){let t=!0;return e.required&&(t=t&&e.value.toString().trim().length!==0),e.minLength!=null&&typeof e.value=="string"&&(t=t&&e.value.length>=e.minLength),e.maxLength!=null&&typeof e.value=="string"&&(t=t&&e.value.length<=e.maxLength),e.min!=null&&typeof e.value=="number"&&(t=t&&e.value>=e.min),e.max!=null&&typeof e.value=="number"&&(t=t&&e.value<=e.max),t}var d=(e=>(e[e.Active=0]="Active",e[e.Finished=1]="Finished",e))(d||{});let h;const b=new Uint8Array(16);function H(){if(!h&&(h=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(b)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function S(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}const q=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),E={randomUUID:q};function C(e,t,n){if(E.randomUUID&&!t&&!e)return E.randomUUID();e=e||{};const s=e.random||(e.rng||H)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=s[r];return t}return S(s)}class D{constructor(){l(this,"listeners",[])}addListener(t){this.listeners.push(t)}}const g=class g extends D{constructor(){super();l(this,"projects",[])}static getInstance(){return this.instance?this.instance:(this.instance=new g,this.instance)}addProject(n,s,r){const i=C(),c=new w(i,n,s,r,d.Active);this.projects.push(c),this.updateListeners()}moveProject(n,s){const r=this.projects.find(i=>i.id===n);r&&r.status!==s&&(r.status=s,this.updateListeners())}removeProject(n){const s=this.projects.findIndex(r=>r.id===n);s!==-1&&(this.projects.splice(s,1),this.updateListeners())}updateListeners(){for(const n of this.listeners)n(this.projects.slice())}};l(g,"instance");let m=g;class v{constructor(t,n,s,r){l(this,"templateElement");l(this,"hostElement");l(this,"element");this.templateElement=document.getElementById(t),this.hostElement=document.getElementById(n);const i=document.importNode(this.templateElement.content,!0);this.element=i.firstElementChild,r&&(this.element.id=r),this.attachNode(s)}attachNode(t){this.hostElement.insertAdjacentElement(t?"afterbegin":"beforeend",this.element)}}var O=Object.defineProperty,U=Object.getOwnPropertyDescriptor,p=(e,t,n,s)=>{for(var r=s>1?void 0:s?U(t,n):t,i=e.length-1,c;i>=0;i--)(c=e[i])&&(r=(s?c(t,n,r):c(r))||r);return s&&r&&O(t,n,r),r};const y=m.getInstance();class w{constructor(t,n,s,r,i){this.id=t,this.title=n,this.description=s,this.people=r,this.status=i}}class j extends v{constructor(n,s){super("single-project",n,!1,s.id);l(this,"project");this.project=s,this.configure(),this.renderContent()}get persons(){return this.project.people===1?"1 person":`${this.project.people} persons`}dragStartHandler(n){n.dataTransfer.setData("text/plain",this.project.id),n.dataTransfer.effectAllowed="move"}dragEndHandler(n){console.log("Drag ended")}deleteHandler(){const n=this.project.id;y.removeProject(n),this.element.remove()}configure(){this.element.addEventListener("dragstart",this.dragStartHandler),this.element.addEventListener("dragend",this.dragEndHandler),this.element.querySelector(".fa-trash").addEventListener("click",this.deleteHandler)}renderContent(){this.element.querySelector("h2").textContent=this.project.title,this.element.querySelector("h3").textContent=this.persons+" assigned to this project.",this.element.querySelector("p").textContent=this.project.description}}p([a],j.prototype,"dragStartHandler",1);p([a],j.prototype,"deleteHandler",1);class u extends v{constructor(n){super("project-list","app",!1,`${n}-projects`);l(this,"assignedProjects");this.type=n,this.assignedProjects=[],this.configure(),this.renderContent()}dragOverHandler(n){n.dataTransfer&&n.dataTransfer.types[0]==="text/plain"&&(n.preventDefault(),this.element.querySelector("ul").classList.add("droppable"))}dropHandler(n){const s=n.dataTransfer.getData("text/plain");y.moveProject(s,this.type==="active"?d.Active:d.Finished)}dragLeaveHandler(n){this.element.querySelector("ul").classList.remove("droppable")}configure(){this.element.addEventListener("dragover",this.dragOverHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("drop",this.dropHandler),y.addListener(n=>{const s=n.filter(r=>this.type==="active"?r.status===d.Active:r.status===d.Finished);this.assignedProjects=s,this.renderProjects()})}renderContent(){const n=`${this.type}-projects-list`;this.element.querySelector("ul").id=n,this.element.querySelector("h2").textContent=this.type.toUpperCase()+" PROJECTS"}renderProjects(){const n=document.getElementById(`${this.type}-projects-list`),s=this.assignedProjects.length-1;n.innerHTML="",this.assignedProjects.forEach((r,i)=>{const c=new j(this.element.querySelector("ul").id,r);(this.type==="active"||i===s)&&c.element.classList.add("visible"),n.appendChild(c.element)})}}p([a],u.prototype,"dragOverHandler",1);p([a],u.prototype,"dropHandler",1);p([a],u.prototype,"dragLeaveHandler",1);class x extends v{constructor(){super("project-input","app",!0,"user-input");l(this,"titleInput");l(this,"descriptionInput");l(this,"peopleInput");this.titleInput=this.element.querySelector("#title"),this.descriptionInput=this.element.querySelector("#description"),this.peopleInput=this.element.querySelector("#people"),this.configure()}configure(){this.element.addEventListener("submit",this.submitHandler)}renderContent(){}gatherUserInput(){const n=this.titleInput.value,s=this.descriptionInput.value,r=this.peopleInput.value,i={value:n,required:!0},c={value:s,required:!0,minLength:5},L={value:+r,required:!0,min:1,max:5};if(!f(i)||!f(c)||!f(L)){alert("Invalid input! Please try again!");return}else return[n,s,+r]}clearInput(){this.titleInput.value="",this.descriptionInput.value="",this.peopleInput.value=""}submitHandler(n){n.preventDefault();const s=this.gatherUserInput();if(Array.isArray(s)){const[r,i,c]=s;m.getInstance().addProject(r,i,c),this.clearInput()}}}p([a],x.prototype,"submitHandler",1);new x;new u("active");new u("finished");
